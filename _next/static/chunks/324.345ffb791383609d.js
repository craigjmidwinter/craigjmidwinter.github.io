"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[324],{1324:(e,t,r)=>{r.r(t),r.d(t,{default:()=>m});var l=r(5155),o=r(2115),n=r(3945),a=r(337);function i(e,t){return Math.random()*(t-e)+e}let s=(0,o.forwardRef)((e,t)=>{let{type:r,color:n}=e,s=(0,o.useRef)(null),c=(0,o.useMemo)(()=>i(.5,1.5),[]),m=(0,o.useMemo)(()=>new a.Pq0,[]),u=(0,o.useRef)(new a.O9p(0,0,0)),h=(0,o.useRef)(new a.Pq0(i(-.02,.02),i(-.02,.02),i(-.02,.02))),d=(0,o.useMemo)(()=>new a.iNn(1,1,1),[]),p=(0,o.useMemo)(()=>new a.TDQ(d),[d]),f=(0,o.useMemo)(()=>{let e=new a.LoY,t=new Float32Array([0,1,0,-1,-1,0,1,-1,0]);return e.setAttribute("position",new a.THS(t,3)),e.computeVertexNormals(),e},[]),y=(0,o.useMemo)(()=>new a.TDQ(f),[f]),x=(0,o.useMemo)(()=>new a.Gu$(.75,32,32),[]),M=(0,o.useMemo)(()=>{let e=new a.ypk;return e.moveTo(0,1),e.lineTo(.2,.3),e.lineTo(1,.3),e.lineTo(.3,-.1),e.lineTo(.6,-.8),e.lineTo(0,-.4),e.lineTo(-.6,-.8),e.lineTo(-.3,-.1),e.lineTo(-1,.3),e.lineTo(-.2,.3),e.closePath(),e},[]),g=(0,o.useMemo)(()=>new a.MSw(M),[M]);(0,o.useEffect)(()=>{let e=0,t=0,r=Math.floor(4*Math.random());0===r?(t=11,e=i(-10,10)):1===r?(t=-11,e=i(-10,10)):(e=2===r?-11:11,t=i(-10,10)),s.current&&s.current.position.set(e,t,0);let l=new a.Pq0(-e,-t,0).normalize();l.x+=i(-.25,.25),l.y+=i(-.25,.25),l.normalize();let o=i(.2,.7);m.copy(l.multiplyScalar(o))},[m]),(0,o.useImperativeHandle)(t,()=>({position:s.current?s.current.position:new a.Pq0,velocity:m,scale:c,type:r,rotation:u.current,angularVelocity:h.current})),(0,o.useEffect)(()=>{let e=t=>{if(s.current){s.current.position.add(m.clone().multiplyScalar(t));let e=s.current.position;if(Math.abs(e.x)>12||Math.abs(e.y)>12){let t=0,r=0,l=Math.floor(4*Math.random());0===l?(r=11,t=i(-10,10)):1===l?(r=-11,t=i(-10,10)):(t=2===l?-11:11,r=i(-10,10)),e.set(t,r,0);let o=new a.Pq0(-t,-r,0).normalize();o.x+=i(-.25,.25),o.y+=i(-.25,.25),o.normalize();let n=i(.2,.7);m.copy(o.multiplyScalar(n))}u.current.x+=h.current.x*t*60,u.current.y+=h.current.y*t*60,u.current.z+=h.current.z*t*60,s.current.rotation.copy(u.current)}requestAnimationFrame(()=>e(.016))};requestAnimationFrame(()=>e(.016))},[m]);let j=null;return"box"===r?j=(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("mesh",{scale:[1.2,1.2,1.2],geometry:d,renderOrder:-1,children:(0,l.jsx)("meshBasicMaterial",{color:"black",side:a.hsX})}),(0,l.jsx)("mesh",{geometry:d,children:(0,l.jsx)("meshToonMaterial",{color:n})}),(0,l.jsx)("lineSegments",{scale:[1.05,1.05,1.05],geometry:p,children:(0,l.jsx)("lineBasicMaterial",{color:"black",linewidth:2})})]}):"triangle"===r?j=(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("mesh",{scale:[1.2,1.2,1.2],geometry:f,renderOrder:-1,children:(0,l.jsx)("meshBasicMaterial",{color:"black",side:a.hsX})}),(0,l.jsx)("mesh",{geometry:f,children:(0,l.jsx)("meshToonMaterial",{color:n})}),(0,l.jsx)("lineSegments",{scale:[1.05,1.05,1.05],geometry:y,children:(0,l.jsx)("lineBasicMaterial",{color:"black",linewidth:2})})]}):"sphere"===r?j=(0,l.jsx)("mesh",{geometry:x,children:(0,l.jsx)("meshToonMaterial",{color:n})}):"star"===r&&(j=(0,l.jsx)("mesh",{geometry:g,children:(0,l.jsx)("meshToonMaterial",{color:n})})),(0,l.jsx)("group",{ref:s,scale:[c,c,c],children:j})});function c(e){let{count:t}=e,r=(0,o.useRef)([]);r.current.length!==t&&(r.current=Array.from({length:t},()=>o.createRef()));let n=["box","triangle","sphere","lightning"],i=["#f76eec","#eae564","#5ac3ff"],[c]=(0,o.useState)(()=>Array.from({length:t},()=>({type:n[Math.floor(Math.random()*n.length)],color:i[Math.floor(Math.random()*i.length)]}))),[m,u]=(0,o.useState)([]),h=e=>{switch(e.type){case"sphere":case"box":case"star":return .8*e.scale;case"triangle":default:return .75*e.scale;case"lightning":return .6*e.scale}};return(0,o.useEffect)(()=>{let e=setInterval(()=>{let e=r.current.map(e=>e.current).filter(e=>e);for(let t=0;t<e.length;t++)for(let r=t+1;r<e.length;r++){let l=e[t],o=e[r],n=h(l),s=h(o),c=l.position,m=o.position,d=c.distanceTo(m),p=n+s;if(d<p){if(0===d){c.x+=.01;continue}let e=m.clone().sub(c).normalize(),t=.5*(p-d);c.addScaledVector(e,-t),m.addScaledVector(e,t);let r=l.velocity.dot(e),n=o.velocity.dot(e),s=l.velocity.clone().sub(e.clone().multiplyScalar(1.9*r)),h=o.velocity.clone().sub(e.clone().multiplyScalar(1.9*n));l.velocity.copy(s),o.velocity.copy(h);let f=c.clone().add(m).multiplyScalar(.5),y=[];for(let e=0;e<10;e++){let e=new a.Pq0(Math.random()-.5,Math.random()-.5,Math.random()-.5).normalize(),t=1+2*Math.random(),r=i[Math.floor(Math.random()*i.length)];y.push({id:crypto.randomUUID(),position:f.clone(),velocity:e.multiplyScalar(t),lifetime:2,color:r})}u(e=>[...e,...y])}}},50);return()=>clearInterval(e)},[t]),(0,o.useEffect)(()=>{let e=performance.now(),t=()=>{let r=performance.now(),l=(r-e)/1e3;e=r,u(e=>e.map(e=>{let t=e.position.clone().add(e.velocity.clone().multiplyScalar(l));return{...e,position:t,lifetime:e.lifetime-l}}).filter(e=>e.lifetime>0)),requestAnimationFrame(t)};t()},[]),(0,l.jsxs)(l.Fragment,{children:[c.map((e,t)=>(0,l.jsx)(s,{ref:r.current[t],type:e.type,color:e.color},t)),m.map(e=>(0,l.jsxs)("mesh",{position:e.position,children:[(0,l.jsx)("boxGeometry",{args:[.05,.05,.05]}),(0,l.jsx)("meshBasicMaterial",{color:e.color})]},e.id))]})}function m(){return(0,l.jsxs)(n.Hl,{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:2},camera:{position:[0,0,5],fov:75},children:[(0,l.jsx)("ambientLight",{intensity:2}),(0,l.jsx)(c,{count:10})]})}s.displayName="FloatingShape"}}]);