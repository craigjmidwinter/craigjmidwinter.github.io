<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" as="image" href="/assets/blog/2017-08-using-the-xiaomi-mi-flora-and-home-assistant-for-twitter-enabled-plants/tweet-plant.jpg"/><link rel="preload" as="image" href="https://s3.us-west-2.amazonaws.com/mid-midwinter.cc/images/ByUqHgdwW.png"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-3777ddffe584dc82.js"/><script src="/_next/static/chunks/4bd1b696-d31891ed15a5103e.js" async=""></script><script src="/_next/static/chunks/517-3adf9217b4ee675a.js" async=""></script><script src="/_next/static/chunks/main-app-3b8a8eba0304deb0.js" async=""></script><script src="/_next/static/chunks/ee560e2c-c5c28398d0153d35.js" async=""></script><script src="/_next/static/chunks/322-53eb1d32bf710b44.js" async=""></script><script src="/_next/static/chunks/173-52b2b489d82616e2.js" async=""></script><script src="/_next/static/chunks/590-97f4dc9b90039a27.js" async=""></script><script src="/_next/static/chunks/app/blog/%5Bslug%5D/page-9af1e0a685a480c8.js" async=""></script><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""/><title>Craig Midwinter - Personal Website</title><meta name="description" content="Welcome to my personal website. Check out my resume, GitHub, LinkedIn, podcast, and blog posts."/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16"/><link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&amp;display=swap" rel="stylesheet"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body><video autoPlay="" loop="" muted="" class="sc-cMqPwU jJIuNk"><source src="/outrun-waves_1.webm" type="video/webm"/></video><nav class="sc-FEMpB cMMXFN"><ul class="sc-gjcoXW kIaxle"><li class="sc-dVBluf iGNEod"><a href="/blog">BLOG HOME</a></li><li class="sc-dVBluf iGNEod"><a href="/">ABOUT CRAIG</a></li></ul></nav><div class="sc-jUkaYT hNzkKj"><div class="sc-jHswkR goaCnt"><p>2017-11-19</p><h1>Using the Xiaomi Mi Flora and Home Assistant for Twitter enabled plants</h1><img src="/assets/blog/2017-08-using-the-xiaomi-mi-flora-and-home-assistant-for-twitter-enabled-plants/tweet-plant.jpg" alt="Using the Xiaomi Mi Flora and Home Assistant for Twitter enabled plants" class="sc-cSaEAk gjOEAT"/></div><div class="sc-deSjom dYLfrY"><p><strong>Note:</strong> This blog is an archive. Some content may be out of date, and images may be broken or missing. If you find an issue or have a question, please email <strong>craig.j.midwinter@gmail.com</strong>.</p></div><p><strong>2025 Update:</strong> <em>The Mi Flora integration appears to be replaced by
the <a href="https://www.home-assistant.io/integrations/xiaomi_ble">Xiaomi BLE component</a>. I haven&#x27;t used it yet, but the same
logic/process should apply</em></p>
<p>I have a confession. I am a murderer. So many unsuspecting house plants have fallen victim to my black thumb. Luckily, I have changed my ways, thanks in no small part to this little miracle worker.</p>
<div class="sc-kXOizl eIsTfe"><img alt="" src="https://s3.us-west-2.amazonaws.com/mid-midwinter.cc/images/ByUqHgdwW.png"/></div>
<p>The <a href="http://amzn.to/2vhQP4K">Xiaomi Mi Flora smart plant monitor</a> is a wicked little plant monitor for an awesome price. The device tracks light accumulation, soil moisture, soil fertility and room temperature of your plants and reports them over bluetooth.</p>
<p>The stock app does a decent enough job of providing you with information about the plants that you want to monitor, but unfortunately it requires you to actively open the app and check your plants to check its needs-- not a big deal if you are a motivated gardener who just needs some help determining your plants needs, but if you are a lazy ass like me, you’re probably about as likely to remember to check the app for information as you were to remember to water them in the first place.</p>
<p>Luckily, some dedicated Home Assistant contributors whipped up this handy integration!</p>
<p>Now, admittedly, I tend to be way more enthusiastic about my home automation projects than my wife is, so when I implement something that she finds useful, I am stoked. This is one such project.</p>
<p>As long as you aren’t intimidated by having to enter a couple of very simple commands into the command line (and
provided you’ve got Home Assistant running on a device with Bluetooth), it’s really easy to get up and running, and once
you have it configured, all of the notification platforms provided by Home Assistant are at your fingertips.</p>
<p>Once you’ve connected your Mi Flora to Home Assistant, you’ll need to add automations like this to your config:</p>
<pre><div class="sc-jZTQcj hRjXcY"><button class="sc-dkBYrC bHcmTX"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect></svg> Copy</button><div style="color:#f92aad;text-shadow:0 0 2px #100c0f, 0 0 5px #dc078e33, 0 0 10px #fff3;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:transparent !important;background-image:linear-gradient(to bottom, #2a2139 75%, #34294f)"><code class="language-yaml" style="white-space:pre;color:#f92aad;text-shadow:0 0 2px #100c0f, 0 0 5px #dc078e33, 0 0 10px #fff3;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token token key" style="color:#f4eee4;text-shadow:0 0 2px #393a33, 0 0 8px #f39f0575, 0 0 2px #f39f0575">automation</span><span class="token token" style="color:#ccc">:</span><span>
</span><span>  </span><span class="token token" style="color:#ccc">-</span><span> </span><span class="token token key" style="color:#f4eee4;text-shadow:0 0 2px #393a33, 0 0 8px #f39f0575, 0 0 2px #f39f0575">alias</span><span class="token token" style="color:#ccc">:</span><span> </span><span class="token token" style="color:#f87c32">&quot;Office Ficus - Water Warning&quot;</span><span>
</span><span>    </span><span class="token token key" style="color:#f4eee4;text-shadow:0 0 2px #393a33, 0 0 8px #f39f0575, 0 0 2px #f39f0575">trigger</span><span class="token token" style="color:#ccc">:</span><span>
</span><span>      </span><span class="token token key" style="color:#f4eee4;text-shadow:0 0 2px #393a33, 0 0 8px #f39f0575, 0 0 2px #f39f0575">platform</span><span class="token token" style="color:#ccc">:</span><span> numeric_state
</span><span>      </span><span class="token token key" style="color:#f4eee4;text-shadow:0 0 2px #393a33, 0 0 8px #f39f0575, 0 0 2px #f39f0575">entity_id</span><span class="token token" style="color:#ccc">:</span><span> sensor.office_ficus_moisture
</span><span>      </span><span class="token token key" style="color:#f4eee4;text-shadow:0 0 2px #393a33, 0 0 8px #f39f0575, 0 0 2px #f39f0575">below</span><span class="token token" style="color:#ccc">:</span><span> </span><span class="token token" style="color:#e2777a">15</span><span>
</span><span>    </span><span class="token token key" style="color:#f4eee4;text-shadow:0 0 2px #393a33, 0 0 8px #f39f0575, 0 0 2px #f39f0575">action</span><span class="token token" style="color:#ccc">:</span><span>
</span><span>      </span><span class="token token key" style="color:#f4eee4;text-shadow:0 0 2px #393a33, 0 0 8px #f39f0575, 0 0 2px #f39f0575">service</span><span class="token token" style="color:#ccc">:</span><span> notify.149twitter
</span><span>      </span><span class="token token key" style="color:#f4eee4;text-shadow:0 0 2px #393a33, 0 0 8px #f39f0575, 0 0 2px #f39f0575">data</span><span class="token token" style="color:#ccc">:</span><span>
</span><span>        </span><span class="token token key" style="color:#f4eee4;text-shadow:0 0 2px #393a33, 0 0 8px #f39f0575, 0 0 2px #f39f0575">message</span><span class="token token" style="color:#ccc">:</span><span> </span><span class="token token" style="color:#f87c32">&quot;Office Ficus: Hey! I&#x27;m dying over here @craigjmidwinter&quot;</span><span>
</span>
<span>  </span><span class="token token" style="color:#ccc">-</span><span> </span><span class="token token key" style="color:#f4eee4;text-shadow:0 0 2px #393a33, 0 0 8px #f39f0575, 0 0 2px #f39f0575">alias</span><span class="token token" style="color:#ccc">:</span><span> </span><span class="token token" style="color:#f87c32">&quot;Office Ficus - Enough Water&quot;</span><span>
</span><span>    </span><span class="token token key" style="color:#f4eee4;text-shadow:0 0 2px #393a33, 0 0 8px #f39f0575, 0 0 2px #f39f0575">trigger</span><span class="token token" style="color:#ccc">:</span><span>
</span><span>      </span><span class="token token key" style="color:#f4eee4;text-shadow:0 0 2px #393a33, 0 0 8px #f39f0575, 0 0 2px #f39f0575">platform</span><span class="token token" style="color:#ccc">:</span><span> numeric_state
</span><span>      </span><span class="token token key" style="color:#f4eee4;text-shadow:0 0 2px #393a33, 0 0 8px #f39f0575, 0 0 2px #f39f0575">entity_id</span><span class="token token" style="color:#ccc">:</span><span> sensor.office_ficus_moisture
</span><span>      </span><span class="token token key" style="color:#f4eee4;text-shadow:0 0 2px #393a33, 0 0 8px #f39f0575, 0 0 2px #f39f0575">above</span><span class="token token" style="color:#ccc">:</span><span> </span><span class="token token" style="color:#e2777a">50</span><span>
</span><span>    </span><span class="token token key" style="color:#f4eee4;text-shadow:0 0 2px #393a33, 0 0 8px #f39f0575, 0 0 2px #f39f0575">action</span><span class="token token" style="color:#ccc">:</span><span>
</span><span>      </span><span class="token token key" style="color:#f4eee4;text-shadow:0 0 2px #393a33, 0 0 8px #f39f0575, 0 0 2px #f39f0575">service</span><span class="token token" style="color:#ccc">:</span><span> notify.149twitter
</span><span>      </span><span class="token token key" style="color:#f4eee4;text-shadow:0 0 2px #393a33, 0 0 8px #f39f0575, 0 0 2px #f39f0575">data</span><span class="token token" style="color:#ccc">:</span><span>
</span><span>        </span><span class="token token key" style="color:#f4eee4;text-shadow:0 0 2px #393a33, 0 0 8px #f39f0575, 0 0 2px #f39f0575">message</span><span class="token token" style="color:#ccc">:</span><span> </span><span class="token token" style="color:#f87c32">&quot;Office Ficus: About time—thanks for taking time out of your busy day to water me @craigjmidwinter&quot;</span></code></div></div></pre>
<p>You&#x27;ll want to change the notify service to match whatever you previously set. You should also change out the mention since these tweets will only notify me, and I&#x27;ve got enough of a problem keeping my own plants alive, let alone worrying about yours.</p>
<p>You&#x27;ll also want to change the above and below values to reflect whatever plan you have. I pulled the values here (low
15%, high 50%) for my ficus plant from the Xiaomi app’s plant database and just used them in the template. I figured it
was best to use those values as a starting point, that way if there was some variance between the actual value and the
value reported by the sensor, the values from the app&#x27;s database were presumably set with this in mind.</p>
<p>Even if you don’t use Home Assistant, I’d highly recommend grabbing one of these sensors if you have trouble keeping plants alive.</p></div><script src="/_next/static/chunks/webpack-3777ddffe584dc82.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[15244,[],\"\"]\n3:I[43866,[],\"\"]\n5:I[86213,[],\"OutletBoundary\"]\n7:I[86213,[],\"MetadataBoundary\"]\n9:I[86213,[],\"ViewportBoundary\"]\nb:I[34835,[],\"\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"vul8LGQyT_rPQ2jqcS-fA\",\"p\":\"\",\"c\":[\"\",\"blog\",\"2017-08-using-the-xiaomi-mi-flora-and-home-assistant-for-twitter-enabled-plants\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"blog\",{\"children\":[[\"slug\",\"2017-08-using-the-xiaomi-mi-flora-and-home-assistant-for-twitter-enabled-plants\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"link\",null,{\"rel\":\"preconnect\",\"href\":\"https://fonts.googleapis.com\"}],[\"$\",\"link\",null,{\"rel\":\"preconnect\",\"href\":\"https://fonts.gstatic.com\",\"crossOrigin\":\"\"}],[\"$\",\"link\",null,{\"href\":\"https://fonts.googleapis.com/css2?family=Press+Start+2P\u0026display=swap\",\"rel\":\"stylesheet\"}]]}],[\"$\",\"body\",null,{\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[],[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]]}]]}],{\"children\":[\"blog\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"slug\",\"2017-08-using-the-xiaomi-mi-flora-and-home-assistant-for-twitter-enabled-plants\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\",\"$0:f:0:1:2:children:2:children:0\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L4\",null,[\"$\",\"$L5\",null,{\"children\":\"$L6\"}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"MeoMSE10d_gB3wHSuz6Pw\",{\"children\":[[\"$\",\"$L7\",null,{\"children\":\"$L8\"}],[\"$\",\"$L9\",null,{\"children\":\"$La\"}],null]}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$b\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"c:I[86880,[\"844\",\"static/chunks/ee560e2c-c5c28398d0153d35.js\",\"322\",\"static/chunks/322-53eb1d32bf710b44.js\",\"173\",\"static/chunks/173-52b2b489d82616e2.js\",\"590\",\"static/chunks/590-97f4dc9b90039a27.js\",\"953\",\"static/chunks/app/blog/%5Bslug%5D/page-9af1e0a685a480c8.js\"],\"default\"]\nd:Td97,"])</script><script>self.__next_f.push([1,"\n**2025 Update:** *The Mi Flora integration appears to be replaced by\nthe [Xiaomi BLE component](https://www.home-assistant.io/integrations/xiaomi_ble). I haven't used it yet, but the same\nlogic/process should apply*\n\nI have a confession. I am a murderer. So many unsuspecting house plants have fallen victim to my black thumb. Luckily, I have changed my ways, thanks in no small part to this little miracle worker.\n\n![](https://s3.us-west-2.amazonaws.com/mid-midwinter.cc/images/ByUqHgdwW.png)\n\nThe [Xiaomi Mi Flora smart plant monitor](http://amzn.to/2vhQP4K) is a wicked little plant monitor for an awesome price. The device tracks light accumulation, soil moisture, soil fertility and room temperature of your plants and reports them over bluetooth.\n\nThe stock app does a decent enough job of providing you with information about the plants that you want to monitor, but unfortunately it requires you to actively open the app and check your plants to check its needs-- not a big deal if you are a motivated gardener who just needs some help determining your plants needs, but if you are a lazy ass like me, you’re probably about as likely to remember to check the app for information as you were to remember to water them in the first place.\n\nLuckily, some dedicated Home Assistant contributors whipped up this handy integration!\n\nNow, admittedly, I tend to be way more enthusiastic about my home automation projects than my wife is, so when I implement something that she finds useful, I am stoked. This is one such project.\n\nAs long as you aren’t intimidated by having to enter a couple of very simple commands into the command line (and\nprovided you’ve got Home Assistant running on a device with Bluetooth), it’s really easy to get up and running, and once\nyou have it configured, all of the notification platforms provided by Home Assistant are at your fingertips.\n\nOnce you’ve connected your Mi Flora to Home Assistant, you’ll need to add automations like this to your config:\n\n```yaml\nautomation:\n  - alias: \"Office Ficus - Water Warning\"\n    trigger:\n      platform: numeric_state\n      entity_id: sensor.office_ficus_moisture\n      below: 15\n    action:\n      service: notify.149twitter\n      data:\n        message: \"Office Ficus: Hey! I'm dying over here @craigjmidwinter\"\n\n  - alias: \"Office Ficus - Enough Water\"\n    trigger:\n      platform: numeric_state\n      entity_id: sensor.office_ficus_moisture\n      above: 50\n    action:\n      service: notify.149twitter\n      data:\n        message: \"Office Ficus: About time—thanks for taking time out of your busy day to water me @craigjmidwinter\"\n```\n\nYou'll want to change the notify service to match whatever you previously set. You should also change out the mention since these tweets will only notify me, and I've got enough of a problem keeping my own plants alive, let alone worrying about yours.\n\nYou'll also want to change the above and below values to reflect whatever plan you have. I pulled the values here (low\n15%, high 50%) for my ficus plant from the Xiaomi app’s plant database and just used them in the template. I figured it\nwas best to use those values as a starting point, that way if there was some variance between the actual value and the\nvalue reported by the sensor, the values from the app's database were presumably set with this in mind.\n\nEven if you don’t use Home Assistant, I’d highly recommend grabbing one of these sensors if you have trouble keeping plants alive."])</script><script>self.__next_f.push([1,"4:[\"$\",\"$Lc\",null,{\"post\":{\"slug\":\"2017-08-using-the-xiaomi-mi-flora-and-home-assistant-for-twitter-enabled-plants\",\"title\":\"Using the Xiaomi Mi Flora and Home Assistant for Twitter enabled plants\",\"date_published\":\"$D2017-11-19T21:34:00.000Z\",\"date_updated\":\"$D2018-12-21T21:06:11.000Z\",\"tags\":\"Home Automation, Home Assistant, Twitter, Xiaomi, YAML\",\"cover_image\":\"/assets/blog/2017-08-using-the-xiaomi-mi-flora-and-home-assistant-for-twitter-enabled-plants/tweet-plant.jpg\",\"content\":\"$d\"}}]\n"])</script><script>self.__next_f.push([1,"a:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n8:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"Craig Midwinter - Personal Website\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"Welcome to my personal website. Check out my resume, GitHub, LinkedIn, podcast, and blog posts.\"}],[\"$\",\"link\",\"3\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}]]\n"])</script><script>self.__next_f.push([1,"6:null\n"])</script></body></html>